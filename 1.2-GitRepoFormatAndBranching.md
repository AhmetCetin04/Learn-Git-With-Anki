By now you should have an abstract idea of what Git is, but you may be wondering how Git actually stores information.

Git makes heavy use of pointers and hash functions...
- A pointer is an object that points to one or more other objects.
- A hash function turns any input into a fixed-size, unique name

There are three main types of pointers that Git uses...
1. Branch pointers - Points to the latest commit within a line of commits, automatically tracked by Git
2. HEAD pointer - Points to the commit your work space is currently running, only one per Git repo
3. Tag pointers - These are similar to branches, but static

Additionally, Git uses three types of objects to store data, which are stored in the git/objects/ folder...
1. Blob – Every file gets turned into a blob, these store the files binary data
2. Tree – Records the hashes of its various blobs and subtrees
3. Commit – Records its tree's hash and the hashes from its parent commit/s

Before Git saves any of these objects to the git/objects/ file, it must first generate each one a unique name.

This is done by feeding certain traits from the object into a hash function.

Importantly, for each object it inputs different information to the hash function.

For the blob: The size and contents of the file</br>For the tree: The user-given name and hash for each Blob and Subtree within the tree, and the size of the tree</br>For the Commit: The author of the commit, the time, the commit message, the parent commit/s, the tree hash, the size of the commit, etc
</br></br></br>


To illustrate why and how Git does this, lets run through an example...

Imagine we have the following folder...

ProjectFolder</br>
├── file1.txt</br>
├── file2.txt</br>
└── file3.txt

If we initialized a Git repo for this folder, this is what it would look like...

```
                 +------------------+
                 |       HEAD       |
                 +--------+---------+
                          |
                          v
                 +------------------+
                 |  branch: master  |
                 +--------+---------+
                          |
                          v
 +-------+     +----------------------+
 | Null  | <-- |      hash: mno       |
 |       |     |  (initial commit)    |
 +-------+     +----------+-----------+
                          |
                          v
                 +------------------+
                 |    hash: jkl     |
                 |     (tree)       |
                 +--------+---------+
                          |
      +---------------------------------------+
      |                   |                   |
      v                   v                   v
  +-----------+     +-----------+     +-----------+
  | hash: abc |     | hash: def |     | hash: ghi |
  |  (blob 1) |     |  (blob 2) |     |  (blob 3) |
  +-----------+     +-----------+     +-----------+
```
and the git/objects file would be as such

git/objects/</br>
├── abc (contains the actual contents of file1.txt)</br> 
├── def (contains the actual contents of file2.txt)</br>
├── ghi (contains the actual contents of file3.txt)</br>
├── jkl (contains the hash references abc, def, ghi)</br>
└── mno (contains the tree reference jkl, and a parent reference to null)</br>
(The branch object is stored in a seperate file)

---
Important things to note...
1. Hashes are given from bottom up
2. Only the blobs contain the actual file info
3. The trees and Commits only contain the hashes to the objects they reference
---

Now lets say I make a small edit to file2.txt, add my work to the index, and commit it to the local repository.

What does the git structure look like now?


```
                                                                         +------------------+
                                                                         |       HEAD       |
                                                                         +--------+---------+
                                                                                  |
                                                                                  v
                                                                         +------------------+
                                                                         |  branch: master  |
                                                                         +--------+---------+
                                                                                  |
                                                                                  v
 +-------+     +----------------------+                                +----------------------+
 | Null  | <-- |      hash: mno       |  <---------------------------  |      hash: vwx       |
 |       |     |  (initial commit)    |                                |   (second commit)    |
 +-------+     +----------+-----------+                                +----------+-----------+
                          |                                                       |
                          v                                                       v
                 +------------------+                                    +------------------+
                 |    hash: jkl     |                                    |    hash: stu     |
                 |     (tree)       |                                    |     (tree)       |
                 +--------+---------+                                    +--------+---------+
                          |                                                       |
      +---------------------------------------+               +---------------------------------------+
      |                   |                   |               |                   |                   |
      v                   v                   v               v                   v                   v
  +-----------+     +-----------+     +-----------+       +-----------+     +-----------+     +-----------+
  | hash: abc |     | hash: def |     | hash: ghi |       | hash: abc |     | hash: pqr |     | hash: ghi |
  |  (blob 1) |     |  (blob 2) |     |  (blob 3) |       |  (blob 1) |     |  (blob 2) |     |  (blob 3) |
  +-----------+     +-----------+     +-----------+       +-----------+     +-----------+     +-----------+
```
And what does the git/objects file look like?
git/objects/</br>
├── abc (Contents of file1.txt)</br> 
├── def (OLD contents of file2.txt)</br>
├── ghi (Contents of file3.txt)</br>
├── jkl (References blobs abc, def, and ghi)</br>
├── mno (References tree jkl, and parent references null)</br>
├── pqr (NEW contents of file2.txt)</br>
├── stu (References blobs abc, PQR, and ghi)</br>
└── vwx (References tree stu, and parent references mno)</br>
(The branch object is still stored in a seperate file)

Now lets do something a little different, Imagine I commit an empty commit, no changes...
What does the git structure and git/objects/ file look like...

```
                                                                         +------------------+
                                                                         |       HEAD       |
                                                                         +--------+---------+
                                                                                  |
                                                                                  v
                                                                         +------------------+
                                                                         |  branch: master  |
                                                                         +--------+---------+
                                                                                  |
                                                                                  v
 +-------+     +----------------------+                                +----------------------+
 |  mno  | <-- |      hash: vwx       |  <---------------------------  |      hash: yzα       |
 |       |     |   (second commit)    |                                |    (third commit)    |
 +-------+     +----------+-----------+                                +----------+-----------+
                          |                                                       |
                          v                                                       v
                 +------------------+                                    +------------------+
                 |    hash: stu     |                                    |    hash: stu     |
                 |     (tree)       |                                    |     (tree)       |
                 +--------+---------+                                    +--------+---------+
                          |                                                       |
      +---------------------------------------+               +---------------------------------------+
      |                   |                   |               |                   |                   |
      v                   v                   v               v                   v                   v
  +-----------+     +-----------+     +-----------+       +-----------+     +-----------+     +-----------+
  | hash: abc |     | hash: pqr |     | hash: ghi |       | hash: abc |     | hash: pqr |     | hash: ghi |
  |  (blob 1) |     |  (blob 2) |     |  (blob 3) |       |  (blob 1) |     |  (blob 2) |     |  (blob 3) |
  +-----------+     +-----------+     +-----------+       +-----------+     +-----------+     +-----------+
```
git/objects/</br>
├── abc (Contents of file1.txt)</br> 
├── def (OLD contents of file2.txt)</br>
├── ghi (Contents of file3.txt)</br>
├── jkl (References blobs abc, def, and ghi)</br>
├── mno (References tree jkl, and parent references null)</br>
├── pqr (NEW contents of file2.txt)</br>
├── stu (References blobs abc, PQR, and ghi)</br>
├── vwx (References tree stu, and parent references mno)</br>
└── yzα (References tree stu, and parent references vwx)</br>
